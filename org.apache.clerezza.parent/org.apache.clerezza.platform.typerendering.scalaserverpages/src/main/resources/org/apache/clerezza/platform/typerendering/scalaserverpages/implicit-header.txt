import org.apache.clerezza.rdf.ontologies._
import org.apache.clerezza.rdf.core._
import org.apache.clerezza.rdf.utils._
import org.apache.clerezza.rdf.scala.utils.Preamble._

def render(resource : GraphNode, mode : String) = {
    def parseNodeSeq(string : String)  = {
        _root_.scala.xml.XML.loadString("<elem>"+string+"</elem>").child
    }
	val baos = new java.io.ByteArrayOutputStream
	try {
		renderer.render(resource, context, mode, baos)
	} catch {
		case e: Exception => baos.write(<div class="exception">{e.toString}</div>.toString.getBytes)
	}
	parseNodeSeq(new String(baos.toByteArray, "utf-8"))
}
def ifx[T](con:  => Boolean)(f: => T) :  T = {
	if (con) f else null.asInstanceOf[T]
}
val resultDocModifier = org.apache.clerezza.platform.typerendering.ResultDocModifier.getInstance();

