<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="tx-html">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Script Manager</title>
        
        <link href="/style/style.css" media="screen" rel="stylesheet" type="text/css" />
        ${ns:script=http://clerezza.org/2009/07/script#}
		${ns:dhb=http://clerezza.org/2009/06/dashboard#}
		${ns:sma=http://clerezza.org/2009/07/scriptmanager#}
		<script src="/jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
		<script src="/jquery/jquery.menu.js" type="text/javascript"></script>
		<script src="js/scriptmanager.js" type="text/javascript"></script>
	
		
    </head>
    <body id="tx-body">
		<div id="tx-header">
			<div id="tx-system">
				${render(dhb:includeDashBoardMenu, "naked")}
			</div>
			<div id="tx-module">
				<h1>Script Manager</h1>
			
			</div>
		
			<div id="tx-module-tabs" class="clearfix">
				<ol id="tx-tabs">
					<li><a href="script-overview">Scripts</a></li>
					<li class="tx-active"><a href="script-install">Install Script</a></li>
					<li><a href="execution-uri-overview">Execution URIs</a></li>
				</ol>

				<div id="tx-contextual-buttons">
					<ol>
						<li><a href="script-overview" class="tx-button tx-button-remove">Cancel</a></li>
						<li><a href="javascript:installScript();" class="tx-button tx-button-create">Install</a></li>
					</ol>
				</div>
			</div >
			<div id="tx-module-options"></div>
        </div>
        <div id="tx-content">
		<div class="tx-panel" id="tx-panel">
        </div>   

		<div class="tx-list" id ="tx-list">
		<form method="post" id="installform" action="install-script" enctype="multipart/form-data">
			<table>
				<tr>
					<td>
						<label for="scriptLanguage">Script Language:</label>
					</td>
					<td>
						<select name="scriptLanguage" size="1">
						${loop}
							<option>${./sma:scriptLanguageDescription/script:scriptLanguage} (${./sma:scriptLanguageDescription/script:scriptLanguageVersion})</option>
						${/loop}
						</select>
					</td>
				</tr>
				<tr>
					<td colspan="2" id="choiceCell">
						<input type="radio" name="fileChoice" id="fileButton" value="file" checked="checked" onclick="fileChoiceSelected()" /> Upload a File
						<input type="radio" name="fileChoice" id="textButton" value="text" onclick="fileChoiceSelected()"/> Enter Script<br/>
					</td>
				</tr>
				<tr id="fileRow">
					<td id="fileCellLabel">
						<label for="scriptFile">Script File:</label>
					</td>
					<td id="fileCell">
						<input type="file" name="scriptFile" />
					</td>
				</tr>
				<tr>
					<td>
						<label for="mediaType">Media Type (of the script file):</label>
					</td>
					<td>
						<input type="text" name="mediaType" />
						(optional: Use to enforce a specific media type)
					</td>
				</tr>
				<tr>
					<td>
						<label for="producedType">Media Type of the script output:</label>
					</td>
					<td>
						<input type="text" name="producedType" />
						(optional: ignored if return value is a GraphNode, default: text/plain)
					</td>
				</tr>
				<tr>
					<td>
						<label for="scriptExecutionUri">Execution URI:</label>
					</td>
					<td>
						<input type="text" name="scriptExecutionUri" />
						(optional)
					</td>
				</tr>
			</table>
		</form>
        </div>
    </div>
    </body>
</html>